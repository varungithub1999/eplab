<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Engineering Physics Lab — epLab</title>
  <meta name="description" content="Engineering Physics Laboratory — experiments, manuals and announcements." />

  <!-- === Consolidated Velocity Hero Styles === -->
  <style id="velocity-hero-styles">
  /* basic reset + typography */
  html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;}
  a{color:inherit;text-decoration:none;}

  /* slider container */
  .hero {
    position: relative;
    width: 100%;
    height: 100vh;          /* full viewport */
    min-height: 420px;
    max-height: 90vh;
    overflow: hidden;
    background:#000;
    color: #fff;
  }

  /* small topbar inside hero (optional) */
  .hero .topbar {
    position: absolute;
    left: 0;
    right: 0;
    top: 12px;
    z-index: 8;
    display:flex;
    align-items:center;
    padding:8px 18px;
    pointer-events:none;
  }
  .hero .brand { font-weight:600; pointer-events:auto; background: rgba(0,0,0,0.35); padding:6px 10px; border-radius:10px; color:#fff; }

  /* slides track fills the hero and holds absolute slides */
  .slides-track {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    z-index: 1;
  }

  /* each slide is a full-bleed background layer */
  .slide {
    position: absolute;
    inset: 0;
    background-position: center center;
    background-size: cover;
    background-repeat: no-repeat;
    opacity: 0;
    transform: translateX(0%);
    will-change: transform, opacity;
    z-index: 1;
    backface-visibility: hidden;
    transition: opacity 300ms linear;
  }

  /* visible slide */
  .slide.visible {
    opacity: 1;
    z-index: 2;
  }

  /* content overlay (above slides) */
  .hero-content{
    position: absolute;
    top: 15%;
    left: 5%;
    z-index: 6;
    max-width: 46%;
    padding: 1.2rem;
    color: #fff;
    text-shadow: 0 6px 18px rgba(2,6,23,0.45);
  }
  .site-eyebrow{ font-size:0.9rem; opacity:0.95; margin-bottom:8px; letter-spacing:0.6px; }
  .site-title { margin:0 0 8px 0; font-size:2.1rem; line-height:1.05; }
  .site-sub { margin:0; font-size:1rem; opacity:0.95; }

  /* buttons */
  .slider-btn{
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    z-index: 7;
    width:44px; height:44px; border-radius:999px;
    border:none; cursor:pointer; font-size:22px; line-height:1;
    background: rgba(0,0,0,0.35); color:#fff;
    display:flex; align-items:center; justify-content:center;
    box-shadow: 0 6px 18px rgba(0,0,0,0.25);
    backdrop-filter: blur(6px);
  }
  .slider-btn.prev{ left: 14px; }
  .slider-btn.next{ right: 14px; }

  /* dots */
  .dots {
    position: absolute;
    bottom: 1.2rem;
    left: 50%;
    transform: translateX(-50%);
    display:flex; gap:10px; z-index:7;
  }
  .dots button {
    width:10px; height:10px; border-radius:50%;
    border:none; padding:0; cursor:pointer;
    background: rgba(255,255,255,0.45);
  }
  .dots button.active { background: rgba(255,255,255,0.95); }

  /* accessibility helper: visible focus outlines for keyboard users */
  .slider-btn:focus, .dots button:focus { outline: 3px solid rgba(255,255,255,0.18); outline-offset: 2px; }

  /* responsiveness */
  @media (max-width:880px){
    .hero-content{ max-width: 90%; left:5%; top:12%; padding:0.9rem; }
    .slider-btn{ width:36px; height:36px; font-size:18px; }
    .hero{ height:70vh; min-height:360px; }
    .site-title{ font-size:1.4rem; }
  }
  @media (prefers-reduced-motion: reduce){
    .slide { transition: none !important; animation: none !important; }
  }

  /* keep any following body content visible after hero */
  main{ padding:24px; max-width:1100px; margin:0 auto; color:#0b1220; }
  </style>

</head>
<body>
  <!-- ================= HERO: Velocity Elegant Fullscreen Slider ================= -->
  <div class="hero" aria-label="Engineering Physics Laboratory hero banner" id="hero-slider" tabindex="0">
    <div class="topbar">
      <div class="brand">Institute of Science &amp; Technology</div>
    </div>

    <!-- slides as background divs for better cover control -->
    <div class="slides-track" role="list" aria-live="off">
      <!-- Replace data-src with the correct paths to your images -->
      <div class="slide visible" role="listitem" data-src="images/hero-slid1.jpg" aria-hidden="false"></div>
      <div class="slide" role="listitem" data-src="images/hero-slide2.jpg" aria-hidden="true"></div>
      <div class="slide" role="listitem" data-src="images/hero-slide3.jpg" aria-hidden="true"></div>
    </div>

    <!-- Hero content overlay -->
    <div class="hero-content" role="region" aria-labelledby="lab-title">
      <div class="site-eyebrow">Engineering Physics • epLab</div>
      <h1 id="lab-title" class="site-title">Engineering Physics Laboratory / epLab</h1>
      <p class="site-sub">A hands-on facility for undergraduate engineers — precision instruments, guided experiments and practical learning.</p>
      <div style="margin-top:12px;">
        <a class="btn" href="#announcements" style="background:#0b3b66;color:#fff;padding:10px 14px;border-radius:10px;text-decoration:none;">Explore Announcements</a>
      </div>
    </div>

    <!-- Controls -->
    <button class="slider-btn prev" aria-label="Previous slide" title="Previous">‹</button>
    <button class="slider-btn next" aria-label="Next slide" title="Next">›</button>

    <!-- Dots -->
    <div class="dots" aria-hidden="false" role="tablist"></div>
  </div>

  <!-- ================= MAIN CONTENT (example) ================= -->
  <main>
    <h2>Welcome</h2>
    <p>This is a placeholder for the rest of your site content (experiments, manuals, contact info, etc.). Keep your existing content here or paste it below this main block.</p>
    <section id="announcements">
      <h3>Announcements</h3>
      <p>No announcements yet. Replace this with your dynamic content or static HTML as needed.</p>
    </section>
  </main>

  <!-- ================= Velocity + Slider JS ================= -->
  <!-- Velocity CDN (v1.5.2) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.5.2/velocity.min.js"></script>

  <script>
  (function(){
    const root = document.getElementById('hero-slider');
    if(!root) return;

    const slides = Array.from(root.querySelectorAll('.slide'));
    const prevBtn = root.querySelector('.slider-btn.prev');
    const nextBtn = root.querySelector('.slider-btn.next');
    const dotsWrap = root.querySelector('.dots');

    const INTERVAL = 5000; // 5s between slides
    const DURATION = 700;  // ms animation duration
    let current = 0;
    let animating = false;
    let timer = null;

    // build dots
    slides.forEach((s,i) => {
      const b = document.createElement('button');
      b.setAttribute('aria-label','Go to slide ' + (i+1));
      b.addEventListener('click', () => { goTo(i); restartTimer(); });
      dotsWrap.appendChild(b);
    });
    const dots = Array.from(dotsWrap.children);

    // lazy-load images (data-src -> background-image)
    function preload(){
      slides.forEach((s, i) => {
        const src = s.getAttribute('data-src');
        if(!src) return;
        const img = new Image();
        img.onload = () => { s.style.backgroundImage = 'url(\"'+src+'\")'; };
        img.src = src;
      });
    }

    function showInitial(){
      slides.forEach((s,i) => {
        s.classList.toggle('visible', i === 0);
        s.setAttribute('aria-hidden', i === 0 ? 'false' : 'true');
      });
      if(dots[0]) dots[0].classList.add('active');
    }

    // animate transition using Velocity
    function animate(fromIdx, toIdx, dir = 'left'){
      if(animating || fromIdx === toIdx) return Promise.resolve();
      animating = true;
      const from = slides[fromIdx];
      const to = slides[toIdx];

      // prep 'to'
      to.style.transform = (dir === 'left') ? 'translateX(100%)' : 'translateX(-100%)';
      to.style.opacity = 1;
      to.classList.add('visible');
      to.style.zIndex = 3;
      from.style.zIndex = 2;

      const p1 = Velocity(from, { translateX: (dir === 'left') ? '-100%' : '100%', opacity: 0 }, { duration: DURATION, easing: "easeInOutQuad" });
      const p2 = Velocity(to,   { translateX: '0%' }, { duration: DURATION, easing: "easeInOutQuad" });

      return Promise.all([p1, p2]).then(() => {
        // cleanup
        from.classList.remove('visible');
        from.style.transform = '';
        from.style.opacity = 0;
        from.style.zIndex = '';
        to.style.zIndex = '';
        animating = false;
      });
    }

    function goTo(index){
      if(index === current || animating) return;
      const dir = (index > current || (current === slides.length-1 && index === 0)) ? 'left' : 'right';
      animate(current, index, dir).then(() => {
        current = index;
        updateState();
      });
    }

    function next(){
      const t = (current + 1) % slides.length;
      animate(current, t, 'left').then(() => { current = t; updateState(); });
    }
    function prev(){
      const t = (current - 1 + slides.length) % slides.length;
      animate(current, t, 'right').then(() => { current = t; updateState(); });
    }

    function updateState(){
      slides.forEach((s,i) => s.setAttribute('aria-hidden', i === current ? 'false' : 'true'));
      dots.forEach((d,i) => d.classList.toggle('active', i === current));
    }

    // buttons
    if(nextBtn) nextBtn.addEventListener('click', () => { next(); restartTimer(); });
    if(prevBtn) prevBtn.addEventListener('click', () => { prev(); restartTimer(); });

    // auto-advance
    function restartTimer(){
      if(timer) clearInterval(timer);
      timer = setInterval(next, INTERVAL);
    }

    // pause/resume on hover & focus
    root.addEventListener('mouseenter', () => clearInterval(timer));
    root.addEventListener('mouseleave', restartTimer);
    root.addEventListener('focusin', () => clearInterval(timer));
    root.addEventListener('focusout', restartTimer);

    // keyboard support
    root.addEventListener('keydown', (e) => {
      if(e.key === 'ArrowLeft') { prev(); restartTimer(); }
      if(e.key === 'ArrowRight') { next(); restartTimer(); }
    });

    // initialize
    preload();
    showInitial();
    restartTimer();
  })();
  </script>
</body>
</html>
